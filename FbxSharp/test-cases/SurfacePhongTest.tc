fixture SurfacePhongTest
test SurfacePhong_Create_HasProperties
    given
    FbxSurfacePhong surface = new("")
    FbxProperty prop

    then
    AssertEqual(22, CountProperties(surface))
    AssertEqual(0, surface.GetSrcPropertyCount())
    AssertEqual(0, surface.GetDstPropertyCount())

    prop = surface.FindProperty("ShadingModel")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.ShadingModel)
    AssertTrue(surface.ShadingModel&.IsValid())
    AssertEqual("ShadingModel", surface.ShadingModel&.GetName())
#cs AssertAreSame(prop, surface.ShadingModel)

    prop = surface.FindProperty("MultiLayer")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.MultiLayer)
    AssertTrue(surface.MultiLayer&.IsValid())
    AssertEqual("MultiLayer", surface.MultiLayer&.GetName())
#cs AssertAreSame(prop, surface.MultiLayer)

    prop = surface.FindProperty("EmissiveColor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.Emissive)
    AssertTrue(surface.Emissive&.IsValid())
    AssertEqual("EmissiveColor", surface.Emissive&.GetName())
#cs AssertAreSame(prop, surface.Emissive)

    prop = surface.FindProperty("EmissiveFactor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.EmissiveFactor)
    AssertTrue(surface.EmissiveFactor&.IsValid())
    AssertEqual("EmissiveFactor", surface.EmissiveFactor&.GetName())
#cs AssertAreSame(prop, surface.EmissiveFactor)

    prop = surface.FindProperty("AmbientColor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.Ambient)
    AssertTrue(surface.Ambient&.IsValid())
    AssertEqual("AmbientColor", surface.Ambient&.GetName())
#cs AssertAreSame(prop, surface.Ambient)

    prop = surface.FindProperty("AmbientFactor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.AmbientFactor)
    AssertTrue(surface.AmbientFactor&.IsValid())
    AssertEqual("AmbientFactor", surface.AmbientFactor&.GetName())
#cs AssertAreSame(prop, surface.AmbientFactor)

    prop = surface.FindProperty("DiffuseColor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.Diffuse)
    AssertTrue(surface.Diffuse&.IsValid())
    AssertEqual("DiffuseColor", surface.Diffuse&.GetName())
#cs AssertAreSame(prop, surface.Diffuse)

    prop = surface.FindProperty("DiffuseFactor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.DiffuseFactor)
    AssertTrue(surface.DiffuseFactor&.IsValid())
    AssertEqual("DiffuseFactor", surface.DiffuseFactor&.GetName())
#cs AssertAreSame(prop, surface.DiffuseFactor)

    prop = surface.FindProperty("Bump")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.Bump)
    AssertTrue(surface.Bump&.IsValid())
    AssertEqual("Bump", surface.Bump&.GetName())
#cs AssertAreSame(prop, surface.Bump)

    prop = surface.FindProperty("NormalMap")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.NormalMap)
    AssertTrue(surface.NormalMap&.IsValid())
    AssertEqual("NormalMap", surface.NormalMap&.GetName())
#cs AssertAreSame(prop, surface.NormalMap)

    prop = surface.FindProperty("BumpFactor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.BumpFactor)
    AssertTrue(surface.BumpFactor&.IsValid())
    AssertEqual("BumpFactor", surface.BumpFactor&.GetName())
#cs AssertAreSame(prop, surface.BumpFactor)

    prop = surface.FindProperty("TransparentColor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.TransparentColor)
    AssertTrue(surface.TransparentColor&.IsValid())
    AssertEqual("TransparentColor", surface.TransparentColor&.GetName())
#cs AssertAreSame(prop, surface.TransparentColor)

    prop = surface.FindProperty("TransparencyFactor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.TransparencyFactor)
    AssertTrue(surface.TransparencyFactor&.IsValid())
    AssertEqual("TransparencyFactor", surface.TransparencyFactor&.GetName())
#cs AssertAreSame(prop, surface.TransparencyFactor)

    prop = surface.FindProperty("DisplacementColor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.DisplacementColor)
    AssertTrue(surface.DisplacementColor&.IsValid())
    AssertEqual("DisplacementColor", surface.DisplacementColor&.GetName())
#cs AssertAreSame(prop, surface.DisplacementColor)

    prop = surface.FindProperty("DisplacementFactor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.DisplacementFactor)
    AssertTrue(surface.DisplacementFactor&.IsValid())
    AssertEqual("DisplacementFactor", surface.DisplacementFactor&.GetName())
#cs AssertAreSame(prop, surface.DisplacementFactor)

    prop = surface.FindProperty("VectorDisplacementColor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.VectorDisplacementColor)
    AssertTrue(surface.VectorDisplacementColor&.IsValid())
    AssertEqual("VectorDisplacementColor", surface.VectorDisplacementColor&.GetName())
#cs AssertAreSame(prop, surface.VectorDisplacementColor)

    prop = surface.FindProperty("VectorDisplacementFactor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.VectorDisplacementFactor)
    AssertTrue(surface.VectorDisplacementFactor&.IsValid())
    AssertEqual("VectorDisplacementFactor", surface.VectorDisplacementFactor&.GetName())
#cs AssertAreSame(prop, surface.VectorDisplacementFactor)

    prop = surface.FindProperty("SpecularColor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.Specular)
    AssertTrue(surface.Specular&.IsValid())
    AssertEqual("SpecularColor", surface.Specular&.GetName())
#cs AssertAreSame(prop, surface.Specular)

    prop = surface.FindProperty("SpecularFactor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.SpecularFactor)
    AssertTrue(surface.SpecularFactor&.IsValid())
    AssertEqual("SpecularFactor", surface.SpecularFactor&.GetName())
#cs AssertAreSame(prop, surface.SpecularFactor)

    prop = surface.FindProperty("ShininessExponent")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.Shininess)
    AssertTrue(surface.Shininess&.IsValid())
    AssertEqual("ShininessExponent", surface.Shininess&.GetName())
#cs AssertAreSame(prop, surface.Shininess)

    prop = surface.FindProperty("ReflectionColor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.Reflection)
    AssertTrue(surface.Reflection&.IsValid())
    AssertEqual("ReflectionColor", surface.Reflection&.GetName())
#cs AssertAreSame(prop, surface.Reflection)

    prop = surface.FindProperty("ReflectionFactor")
#cs AssertNotNull(prop)
    AssertTrue(prop&.IsValid())
#cs AssertNotNull(surface.ReflectionFactor)
    AssertTrue(surface.ReflectionFactor&.IsValid())
    AssertEqual("ReflectionFactor", surface.ReflectionFactor&.GetName())
#cs AssertAreSame(prop, surface.ReflectionFactor)

test SurfacePhong_Create_HasNamespacePrefix
    given
    FbxSurfacePhong surface = new("asdf")

    then
    AssertEqual("Material:\:", surface.GetNameSpacePrefix())
